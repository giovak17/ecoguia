{% extends 'administradores/base.html' %}

use la tabla tipo y material reciclable*/
{% load static %}

{% block title %}Lista de Tipos de Material Reciclable{% endblock %}
{# Título que aparecerá en la pestaña o encabezado del navegador #}

{% block content %}
<div class="head-title">
	<div class="left">
		<h1>Material reciclable</h1>
		<ul class="breadcrumb">
			<li><a  href="{% url 'administradores:index' %}" >Administrador</a></li>
			<li><i class='bx bx-chevron-right'></i></li>
			<li><a class="active"  href="{% url 'administradores:index' %}" >Tipos de material</a></li>
		</ul>
	</div>
	<a  href="{% url 'administradores:tipomaterial_registro' %}" class="btn-download">
		<i class='bx bxs-cloud-download'></i>
		<span class="text">Registrar material</span>
	</a>
</div>

<div class="container py-4" style="max-width: 1200px; margin: 0 auto;">
  <div class="table-data">
    <div class="order">
      <div class="head">
        <h3>Material registrado</h3>
        <!-- <i class='bx bx-search'></i>
        <i class='bx bx-filter'></i> -->
      </div>
    {# Contenedor para hacer la tabla responsiva (scroll horizontal si es necesario) #}
      <table>
      {# Tabla con estilo inline que controla dimensiones, fuente, colores y sombra #}
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Descripción</th>
          <th>Descomposición (días)</th>
          <th>Imagen</th>
          <th>Acciones</th>
        </tr>
      </thead>
      {# Cabecera de la tabla con columnas especificadas, cada celda con padding para separación #}

      <tbody>
        {% for tipo in tipos_material %}
        {# Bucle que iterará por cada tipo de material reciclable enviado desde la vista #}
        <tr style="vertical-align: middle; border-bottom: 1px solid #eee; transition: background 0.2s;"
            onmouseover="this.style.backgroundColor='#f9f9f9';"
            onmouseout="this.style.backgroundColor='#fff';"
        >
          {# Cada fila tiene borde inferior, alineación vertical y cambio de color al pasar el cursor #}

          <td style="padding: 8px;">{{ tipo.nombre }}</td> 
          {# Celda que muestra el nombre del tipo de material #}

          <td style="padding: 8px;">{{ tipo.descripcion }}</td> 
          {# Celda que muestra la descripción del material #}

          <td style="padding: 8px; text-align: center;">{{ tipo.tiempo_descomposicion }}</td> 
          {# Celda con tiempo estimado de descomposición, centrado #}

          <td style="padding: 8px; text-align: center;">
            {% if tipo.imagen and tipo.imagen.name %}
              <img src="{{ tipo.imagen.url }}" alt="Imagen del material"
                   style="width: 120px; height: auto; border-radius: 6px; border: 1px solid #ccc; object-fit: cover;" />
            {% else %}
              <span style="color: #AAAAAA; font-style: italic;">No hay imagen</span>
            {% endif %}
          </td>
          {# Muestra la imagen del material reciclable si existe, sino muestra texto en gris e cursiva #}
          <td style="padding: 8px;">
            <a href="{% url 'administradores:tipomaterial_actualizar' tipo.pk %}"><i class='bx bxs-edit-alt' style="color: #67AE6E;"></i></a> |
            <a href="{% url 'administradores:tipomaterial_delete' tipo.pk %}"><i class='bx bxs-trash-alt' style="color: #67AE6E;"></i></a>
            {# Botón verde para editar el tipo de material, cambia a un verde más oscuro al pasar el mouse #}
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="5" style="text-align: center; color: #AAAAAA; font-style: italic; padding: 12px;">
            No hay tipos de material.
          </td>
        </tr>
        {% endfor %}
        {# Mensaje que se muestra si no hay registros en la lista #}
      </tbody>
    </table>
    </div>
  </div>
</div>
{% endblock %}
